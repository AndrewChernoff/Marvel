"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[625],{7636:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(5861),a=r(7757),c=r.n(a),s=r(885),i=r(2791),u=function(){var e=(0,i.useState)("waiting"),t=(0,s.Z)(e,2),r=t[0],a=t[1],u=(0,i.useCallback)(function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,a,s,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json"},a=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,fetch(t,{method:r,headers:n,body:a});case 6:if((s=e.sent).ok){e.next=9;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));case 9:return e.next=11,s.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(3),console.log(e.t0.message),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{request:u,clearError:(0,i.useCallback)((function(){a("error")}),[]),process:r,setProcess:a}},o=function(){var e=u(),t=e.request,r=e.clearError,a=e.process,s=e.setProcess,i="https://gateway.marvel.com:443/v1/public/characters",o="apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5",l=function(){var e=(0,n.Z)(c().mark((function e(){var r,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:500,e.next=3,t("".concat(i,"?limit=9&offset=").concat(r,"&").concat(o));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat(i,"/").concat(r,"?limit=9&offset=500&").concat(o));case 2:return n=e.sent,e.abrupt("return",h(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(){var r,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1e4,e.next=3,t("https://gateway.marvel.com:443/v1/public/comics?orderBy=-issueNumber&limit=8&offset=".concat(r,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("https://gateway.marvel.com:443/v1/public/comics/".concat(r,"?apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return n=e.sent,e.abrupt("return",v(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("https://gateway.marvel.com:443/v1/public/characters?name=".concat(r,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return{id:e.data.results[0].id,name:e.data.results[0].name,description:e.data.results[0].description,modified:e.data.results[0].modified,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,wiki:e.data.results[0].urls[1].url,comics:e.data.results[0].comics}},v=function(e){return{id:e.data.results[0].id,title:e.data.results[0].title,description:e.data.results[0].description,price:e.data.results[0].prices[0].price,pageCount:e.data.results[0].pageCount,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,language:e.data.results[0].textObjects[0].language}};return{getAllCharcters:l,getCharacter:d,getAllComics:f,getComicsItem:m,getCharacterByName:p,clearError:r,process:a,setProcess:s}}},9698:function(e,t,r){r.r(t),r.d(t,{ComicsHeader:function(){return p},default:function(){return h}});var n=r(2982),a=r(885),c=r.p+"static/media/avengers_logo.9b944f717f2c146c4762.png",s=r.p+"static/media/avengers.c29e0ef078dddc7551e8.png",i=r(2791),u=r(7636),o=r(7577),l=(r(5467),r(3237),r(3504)),d=r(8901),f=r(184),m=function(e){var t=e.comicsList;return(0,f.jsx)("div",{className:"comics__items",children:t})},p=function(){return(0,f.jsxs)("div",{className:"comics__header",children:[(0,f.jsx)("img",{className:"comics__header_avengers",src:s,alt:"avengers"}),(0,f.jsxs)("div",{className:"comics__header_title",children:["New comics every week!",(0,f.jsx)("br",{}),"Stay tuned!"]}),(0,f.jsx)("img",{className:"comics__header_avengers-logo",src:c,alt:"avengers logo"})]})},h=function(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),r=t[0],c=t[1],s=(0,i.useState)(10008),h=(0,a.Z)(s,2),v=h[0],g=h[1],_=(0,i.useState)(!1),b=(0,a.Z)(_,2),x=b[0],w=b[1],y=(0,u.Z)(),j=y.getAllComics,k=y.process,Z=y.setProcess,C=(0,i.useRef)([]);(0,i.useEffect)((function(){Z("waiting"),j().then((function(e){c((function(t){return[].concat((0,n.Z)(t),(0,n.Z)(e.data.results))}))})).then((function(){return Z("loaded")}))}),[]);var N=r.map((function(e,t){var r="/comics/".concat(e.id);return(0,f.jsxs)(l.OL,{to:r,ref:function(e){return C.current.push(e)},onMouseEnter:function(){return function(e){C.current.forEach((function(e){return e.classList.remove("comics__item__active")})),C.current[e].classList.add("comics__item__active"),C.current[e].focus()}(t)},onMouseLeave:function(){return function(e){C.current.forEach((function(e){return e.classList.remove("comics__item__active")})),C.current[e].classList.add("comics__item__active"),C.current[e].blur()}(t)},className:"comics__item",children:[(0,f.jsx)("img",{className:"comics__item_img",src:e.thumbnail.path+"."+e.thumbnail.extension,alt:e.title}),(0,f.jsx)("div",{className:"comics__item_title",children:e.title}),(0,f.jsxs)("div",{className:"comics__item_price",children:[e.prices[0].price,"$"]})]},t)}));return(0,f.jsx)(d.Z,{children:(0,f.jsx)("div",{className:"comics",children:(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)(p,{}),(0,o.Z)(k,(0,f.jsx)(m,{comicsList:N})),(0,f.jsx)("button",{style:{display:"".concat(r.length<8?"none":"block")},disabled:x,onClick:function(){w(!0),g(v+8),j(v).then((function(e){c((function(t){return[].concat((0,n.Z)(t),(0,n.Z)(e.data.results))})),w(!1)}))},children:"LOAD MORE"})]})})})}},3237:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r.p+"static/media/error.42292aa12b6bc303ce99.gif",a=r(184),c=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("img",{className:"error__img",src:n,alt:"error"})})}},7577:function(e,t,r){var n=r(5467),a=r(3237),c=r(184);t.Z=function(e,t){switch(e){case"waiting":return(0,c.jsx)(n.Z,{});case"loaded":return t;default:return(0,c.jsx)(a.Z,{})}}}}]);
//# sourceMappingURL=625.4433e615.chunk.js.map