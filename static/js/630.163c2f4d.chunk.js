"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[630],{7636:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(5861),a=t(7757),c=t.n(a),s=t(885),i=t(2791),o=function(){var e=(0,i.useState)("waiting"),r=(0,s.Z)(e,2),t=r[0],a=r[1],o=(0,i.useCallback)(function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a,s,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json"},a=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,fetch(r,{method:t,headers:n,body:a});case 6:if((s=e.sent).ok){e.next=9;break}throw new Error("Could not fetch ".concat(r,", status: ").concat(s.status));case 9:return e.next=11,s.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(3),console.log(e.t0.message),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(r){return e.apply(this,arguments)}}(),[]);return{request:o,clearError:(0,i.useCallback)((function(){a("error")}),[]),process:t,setProcess:a}},l=function(){var e=o(),r=e.request,t=e.clearError,a=e.process,s=e.setProcess,i="https://gateway.marvel.com:443/v1/public/characters",l="apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5",u=function(){var e=(0,n.Z)(c().mark((function e(){var t,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:500,e.next=3,r("".concat(i,"?limit=9&offset=").concat(t,"&").concat(l));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("".concat(i,"/").concat(t,"?limit=9&offset=500&").concat(l));case 2:return n=e.sent,e.abrupt("return",_(n));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(){var t,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1e4,e.next=3,r("https://gateway.marvel.com:443/v1/public/comics?orderBy=-issueNumber&limit=8&offset=".concat(t,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("https://gateway.marvel.com:443/v1/public/comics/".concat(t,"?apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return n=e.sent,e.abrupt("return",x(n));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("https://gateway.marvel.com:443/v1/public/characters?name=".concat(t,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),_=function(e){return{id:e.data.results[0].id,name:e.data.results[0].name,description:e.data.results[0].description,modified:e.data.results[0].modified,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,wiki:e.data.results[0].urls[1].url,comics:e.data.results[0].comics}},x=function(e){return{id:e.data.results[0].id,title:e.data.results[0].title,description:e.data.results[0].description,price:e.data.results[0].prices[0].price,pageCount:e.data.results[0].pageCount,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,language:e.data.results[0].textObjects[0].language}};return{getAllCharcters:u,getCharacter:d,getAllComics:h,getComicsItem:m,getCharacterByName:f,clearError:t,process:a,setProcess:s}}},1811:function(e,r,t){t.r(r),t.d(r,{default:function(){return P}});var n=t(885),a=t(2791),c=t(184),s=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{className:"homePage__btn",href:"#",style:{background:"#9F0013"},children:(0,c.jsx)("span",{children:"HOMEPAGE"})})})},i=function(e){var r=e.wiki;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{className:"wiki__btn",href:r,style:{background:"grey"},children:(0,c.jsx)("span",{children:"WIKI"})})})},o=t(2506),l=t(132),u=t(7636),d=t(3504),h=function(){var e=(0,u.Z)().getCharacterByName,r=(0,a.useState)(null),t=(0,n.Z)(r,2),s=t[0],i=t[1];return(0,c.jsx)(o.J9,{validationSchema:l.Ry().shape({name:l.Z_().required("This field is required")}),onSubmit:function(r,t){var n=t.resetForm;i(null),e(r.name).then((function(e){i(e)})),n()},initialValues:{name:""},children:function(e){var r=e.errors,t=e.touched;return(0,c.jsxs)(o.l0,{className:"form",children:[(0,c.jsx)("h2",{children:"Or find a character by name:"}),(0,c.jsxs)("div",{className:"formBlock",children:[(0,c.jsx)(o.gN,{name:"name",placeholder:"Enter name"}),(0,c.jsx)("button",{type:"submit",className:"form__btn",children:"Submit"})]}),r.name&&t.name?(0,c.jsx)("div",{className:"error",children:r.name}):null,s?s.length>0?(0,c.jsxs)("div",{className:"form__result",children:[(0,c.jsxs)("div",{className:"found",children:["There is! Visit ",s[0].name," page?"]}),(0,c.jsx)(d.OL,{to:"/formCharacter",state:{charInfo:s},className:"form__result_btn",children:"TO PAGE"})]}):0===s.length?(0,c.jsx)("div",{className:"error",children:"There's no such character"}):null:null]})}})},m=function(e){var r=e.character,t=r.comics.items.slice(0,10).map((function(e){return(0,c.jsxs)("div",{className:"character__comics-items__bar",children:[" ",e.name]},r.comics.items.indexOf(e)+1)}));return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"character",children:(0,c.jsx)("div",{className:"character__item",children:(0,c.jsxs)("div",{className:"character__container",children:[(0,c.jsxs)("div",{className:"character__shortInfo",children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:r.thumbnail,alt:r.name})}),(0,c.jsxs)("div",{className:"character__shortInfo__management",children:[(0,c.jsx)("h2",{children:r.name}),(0,c.jsxs)("div",{className:"character__shortInfo__management__btns",children:[(0,c.jsx)(s,{}),(0,c.jsx)(i,{wiki:r.wiki})]})]})]}),(0,c.jsxs)("div",{className:"character__restInfo",children:[(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:"character__descr",children:r.description}),(0,c.jsx)("br",{}),(0,c.jsx)("div",{className:"character__comics",children:"Comics:"}),(0,c.jsx)("div",{className:"character__comics-items",children:0===t.length?(0,c.jsx)("div",{children:" No comics with this character "}):t})]})]})})}),(0,c.jsx)("div",{style:{marginTop:50},children:(0,c.jsx)(h,{})})]})},f=t(3237),_=t(5467),x=function(e){var r=e.selectedId,t=(0,a.useState)(null),s=(0,n.Z)(t,2),i=s[0],o=s[1],l=(0,u.Z)(),d=l.getCharacter,h=l.error,x=l.loading;return(0,a.useEffect)((function(){r&&d(r).then((function(e){o(e)}))}),[r]),(0,c.jsxs)(c.Fragment,{children:[x?(0,c.jsx)(_.Z,{}):null,h?(0,c.jsx)(f.Z,{}):null,x||h||!i?null:(0,c.jsx)(m,{character:i})]})},v=t(2982),j=t(7577),p=function(e){var r=e.characters,t=e.onLoadMoreBtn,n=e.newCharsPortion,a=e.offset;return(0,c.jsxs)("div",{className:"characters",children:[(0,c.jsx)("div",{className:"characters__items",children:r}),(0,c.jsx)("button",{style:{display:"".concat(a>1553?"none":"block")},disabled:n,onClick:t,children:"LOAD MORE"})]})},g=function(e){var r=(0,a.useState)([]),t=(0,n.Z)(r,2),s=t[0],i=t[1],o=(0,a.useState)(509),l=(0,n.Z)(o,2),d=l[0],h=l[1],m=(0,a.useState)(!1),f=(0,n.Z)(m,2),_=f[0],x=f[1],g=(0,u.Z)(),b=g.getAllCharcters,N=g.process,k=g.setProcess;(0,a.useEffect)((function(){w()}),[]);var w=(0,a.useCallback)((function(){k("waiting"),x(!1),b().then((function(e){i((function(r){return[].concat((0,v.Z)(r),(0,v.Z)(e.data.results))}))})).then((function(){return k("loaded")}))}),[]),y=(0,a.useRef)([]),Z=function(e){y.current.forEach((function(e){return e.classList.remove("characters__item__active")})),y.current.forEach((function(e){return e.classList.add("characters__item")})),y.current[e].classList.add("characters__item__active"),y.current[e].focus()},C=s.map((function(r,t){return(0,c.jsxs)("div",{tabIndex:0,"data-number":t,ref:function(e){return y.current[t]=e},onClick:function(){e.getSelectedItem(r.id),Z(t)},onKeyPress:function(t){var n;"Enter"===(n=t).key&&Z(n.currentTarget.dataset.number),e.getSelectedItem(r.id)},className:"".concat(e.selectedId===r.id?"characters__item__active":"characters__item"),children:[(0,c.jsx)("img",{src:r.thumbnail.path+"."+r.thumbnail.extension,alt:r.name}),(0,c.jsx)("div",{className:"characters__item__name",children:r.name})]},r.id)}));return(0,c.jsx)(c.Fragment,{children:(0,j.Z)(N,(0,c.jsx)(p,{characters:C,newCharsPortion:_,onLoadMoreBtn:function(){x(!0),h(d+9),b(d).then((function(e){i((function(r){return[].concat((0,v.Z)(r),(0,v.Z)(e.data.results))})),x(!1)}))},offset:d}))})},b=t(8901),N=t(5671),k=t(3144),w=t(136),y=t(3668),Z=function(e){(0,w.Z)(t,e);var r=(0,y.Z)(t);function t(e){var n;return(0,N.Z)(this,t),(n=r.call(this,e)).state={error:null,errorInfo:null},n}return(0,k.Z)(t,[{key:"componentDidCatch",value:function(e,r){this.setState({error:e,errorInfo:r})}},{key:"render",value:function(){return this.state.errorInfo?(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"An Error Has Occured. Try again later"}),(0,c.jsx)(f.Z,{})]}):this.props.children}}]),t}(a.Component),C=function(){return(0,c.jsxs)("div",{className:"notSelected",children:[(0,c.jsx)("h2",{children:"Please select a character to see information"}),(0,c.jsxs)("div",{className:"notSelected__figures",children:[(0,c.jsxs)("div",{className:"notSelected__figures__info",children:[(0,c.jsx)("div",{className:"notSelected__figures__info__circle"}),(0,c.jsx)("div",{className:"notSelected__figures__info__block"})]}),(0,c.jsx)("div",{className:"notSelected__figures__block"}),(0,c.jsx)("div",{className:"notSelected__figures__block"}),(0,c.jsx)("div",{className:"notSelected__figures__block"})]})]})},I=t.p+"static/media/tools.b10f8e634d5efd274514.png",S=function(e){var r=e.character,t=r.name,n=r.description,a=r.thumbnail,o=r.wiki;try{if(n.length>200){var l=n.slice(0,100)+"...";n=l}else""===n&&(n='No information about this character. Please, click the "WIKI" button to get information')}catch(u){}return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"random__character__content__info",children:(0,c.jsx)("img",{src:a,alt:"Random Character"})}),(0,c.jsxs)("div",{className:"random__character__content__descr",children:[(0,c.jsx)("h2",{children:t}),(0,c.jsx)("p",{children:n}),(0,c.jsxs)("div",{className:"random__character__content__descr__btns",children:[(0,c.jsx)(s,{}),(0,c.jsx)(i,{wiki:o})]})]})]})},E=function(){var e=(0,a.useState)({}),r=(0,n.Z)(e,2),t=r[0],s=r[1],i=(0,u.Z)(),o=i.getCharacter,l=i.clearError,d=i.process,h=i.setProcess;(0,a.useEffect)((function(){m()}),[]);var m=function(){l(),h("waiting");var e=Math.floor(401*Math.random())+1011e3;o(e).then((function(e){s(e)})).then((function(){return h("loaded")}))};return(0,c.jsx)("div",{className:"random__character",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"container__content",children:[(0,c.jsx)("div",{className:"random__character__content",children:(0,j.Z)(d,(0,c.jsx)(S,{character:t}))}),(0,c.jsx)("div",{className:"random__info",children:(0,c.jsxs)("div",{className:"random__info__content",children:[(0,c.jsxs)("p",{children:[" Random character for today!",(0,c.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,c.jsx)("p",{children:"Or choose another one"}),(0,c.jsx)("button",{onClick:m,disabled:"waiting"===d,children:"TRY IT"}),(0,c.jsx)("img",{className:"random__info__content__img",src:I,alt:"tool"})]})})]})})})},P=function(e){var r=e.getSelectedItem,t=e.selectedId;return(0,c.jsxs)(b.Z,{children:[(0,c.jsx)(E,{}),(0,c.jsx)("div",{className:"charactersBlock",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"charactersBlock__content",children:[(0,c.jsx)(Z,{children:(0,c.jsx)(g,{getSelectedItem:r,selectedId:t})}),t?(0,c.jsx)(Z,{children:(0,c.jsx)(x,{selectedId:t})}):(0,c.jsx)(C,{})]})})})]})}},3237:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t.p+"static/media/error.42292aa12b6bc303ce99.gif",a=t(184),c=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("img",{className:"error__img",src:n,alt:"error"})})}},7577:function(e,r,t){var n=t(5467),a=t(3237),c=t(184);r.Z=function(e,r){switch(e){case"waiting":return(0,c.jsx)(n.Z,{});case"loaded":return r;default:return(0,c.jsx)(a.Z,{})}}}}]);
//# sourceMappingURL=630.163c2f4d.chunk.js.map