"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[578,625],{7636:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(5861),c=n(7757),s=n.n(c),a=n(885),i=n(2791),o=function(){var e=(0,i.useState)("waiting"),t=(0,a.Z)(e,2),n=t[0],c=t[1],o=(0,i.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,c,a,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",r=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json"},c=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,fetch(t,{method:n,headers:r,body:c});case 6:if((a=e.sent).ok){e.next=9;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(a.status));case 9:return e.next=11,a.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(3),console.log(e.t0.message),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{request:o,clearError:(0,i.useCallback)((function(){c("error")}),[]),process:n,setProcess:c}},u=function(){var e=o(),t=e.request,n=e.clearError,c=e.process,a=e.setProcess,i="https://gateway.marvel.com:443/v1/public/characters",u="apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5",l=function(){var e=(0,r.Z)(s().mark((function e(){var n,r,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:500,e.next=3,t("".concat(i,"?limit=9&offset=").concat(n,"&").concat(u));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat(i,"/").concat(n,"?limit=9&offset=500&").concat(u));case 2:return r=e.sent,e.abrupt("return",h(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(){var n,r,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:1e4,e.next=3,t("https://gateway.marvel.com:443/v1/public/comics?orderBy=-issueNumber&limit=8&offset=".concat(n,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("https://gateway.marvel.com:443/v1/public/comics/".concat(n,"?apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return r=e.sent,e.abrupt("return",v(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("https://gateway.marvel.com:443/v1/public/characters?name=".concat(n,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return{id:e.data.results[0].id,name:e.data.results[0].name,description:e.data.results[0].description,modified:e.data.results[0].modified,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,wiki:e.data.results[0].urls[1].url,comics:e.data.results[0].comics}},v=function(e){return{id:e.data.results[0].id,title:e.data.results[0].title,description:e.data.results[0].description,price:e.data.results[0].prices[0].price,pageCount:e.data.results[0].pageCount,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,language:e.data.results[0].textObjects[0].language}};return{getAllCharcters:l,getCharacter:m,getAllComics:d,getComicsItem:f,getCharacterByName:p,clearError:n,process:c,setProcess:a}}},9698:function(e,t,n){n.r(t),n.d(t,{ComicsHeader:function(){return p},default:function(){return h}});var r=n(2982),c=n(885),s=n.p+"static/media/avengers_logo.9b944f717f2c146c4762.png",a=n.p+"static/media/avengers.c29e0ef078dddc7551e8.png",i=n(2791),o=n(7636),u=n(7577),l=(n(5467),n(3237),n(3504)),m=n(8901),d=n(184),f=function(e){var t=e.comicsList;return(0,d.jsx)("div",{className:"comics__items",children:t})},p=function(){return(0,d.jsxs)("div",{className:"comics__header",children:[(0,d.jsx)("img",{className:"comics__header_avengers",src:a,alt:"avengers"}),(0,d.jsxs)("div",{className:"comics__header_title",children:["New comics every week!",(0,d.jsx)("br",{}),"Stay tuned!"]}),(0,d.jsx)("img",{className:"comics__header_avengers-logo",src:s,alt:"avengers logo"})]})},h=function(){var e=(0,i.useState)([]),t=(0,c.Z)(e,2),n=t[0],s=t[1],a=(0,i.useState)(10008),h=(0,c.Z)(a,2),v=h[0],_=h[1],g=(0,i.useState)(!1),x=(0,c.Z)(g,2),b=x[0],j=x[1],w=(0,o.Z)(),N=w.getAllComics,Z=w.process,y=w.setProcess,k=(0,i.useRef)([]);(0,i.useEffect)((function(){y("waiting"),N().then((function(e){s((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e.data.results))}))})).then((function(){return y("loaded")}))}),[]);var C=n.map((function(e,t){var n="/comics/".concat(e.id);return(0,d.jsxs)(l.OL,{to:n,ref:function(e){return k.current.push(e)},onMouseEnter:function(){return function(e){k.current.forEach((function(e){return e.classList.remove("comics__item__active")})),k.current[e].classList.add("comics__item__active"),k.current[e].focus()}(t)},onMouseLeave:function(){return function(e){k.current.forEach((function(e){return e.classList.remove("comics__item__active")})),k.current[e].classList.add("comics__item__active"),k.current[e].blur()}(t)},className:"comics__item",children:[(0,d.jsx)("img",{className:"comics__item_img",src:e.thumbnail.path+"."+e.thumbnail.extension,alt:e.title}),(0,d.jsx)("div",{className:"comics__item_title",children:e.title}),(0,d.jsxs)("div",{className:"comics__item_price",children:[e.prices[0].price,"$"]})]},t)}));return(0,d.jsx)(m.Z,{children:(0,d.jsx)("div",{className:"comics",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)(p,{}),(0,u.Z)(Z,(0,d.jsx)(f,{comicsList:C})),(0,d.jsx)("button",{style:{display:"".concat(n.length<8?"none":"block")},disabled:b,onClick:function(){j(!0),_(v+8),N(v).then((function(e){s((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e.data.results))})),j(!1)}))},children:"LOAD MORE"})]})})})}},2876:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(885),c=n(2791),s=n(7636),a=n(3504),i=n(6871),o=n(3540),u=n(9698),l=n(8901),m=n(184),d=function(){var e=(0,i.UO)(),t=(0,s.Z)().getComicsItem,n=(0,c.useState)({}),d=(0,r.Z)(n,2),f=d[0],p=d[1];return(0,c.useEffect)((function(){e.id&&t(e.id).then((function(e){p(e)}))}),[]),(0,m.jsx)(l.Z,{children:(0,m.jsx)("div",{className:"comicsItem",children:(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)(u.ComicsHeader,{}),(0,m.jsxs)("div",{className:"comicsItem__content",children:[(0,m.jsx)("img",{className:"comicsItem__content_img",src:f.thumbnail,alt:f.title}),(0,m.jsxs)("div",{className:"comicsItem__content_info",children:[(0,m.jsx)("h2",{className:"comicsItem__content_info_name",children:f.title}),f.description?(0,o.ZP)("<div className='comicsItem__content_info_descr'>".concat(f.description,"</div>")):"No info for this comic",f.pageCount?(0,m.jsxs)("div",{className:"comicsItem__content_info_pageCount",children:[f.pageCount," pages"]}):null,f.language?(0,m.jsxs)("div",{className:"comicsItem__content_info_language",children:["Language: ",f.language]}):null,f.price?(0,m.jsxs)("div",{className:"comicsItem__content_info_price",children:[f.price,"$"]}):null]}),(0,m.jsx)(a.OL,{to:"/comics",children:"Back to all"})]})]})})})}},3237:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n.p+"static/media/error.42292aa12b6bc303ce99.gif",c=n(184),s=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("img",{className:"error__img",src:r,alt:"error"})})}},7577:function(e,t,n){var r=n(5467),c=n(3237),s=n(184);t.Z=function(e,t){switch(e){case"waiting":return(0,s.jsx)(r.Z,{});case"loaded":return t;default:return(0,s.jsx)(c.Z,{})}}}}]);
//# sourceMappingURL=578.fa6c0e43.chunk.js.map