"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[820,625],{7636:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(5861),c=r(7757),a=r.n(c),s=r(885),i=r(2791),u=function(){var e=(0,i.useState)("waiting"),t=(0,s.Z)(e,2),r=t[0],c=t[1],u=(0,i.useCallback)(function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,c,s,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:{"Content-Type":"application/json"},c=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,fetch(t,{method:r,headers:n,body:c});case 6:if((s=e.sent).ok){e.next=9;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));case 9:return e.next=11,s.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(3),console.log(e.t0.message),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{request:u,clearError:(0,i.useCallback)((function(){c("error")}),[]),process:r,setProcess:c}},o=function(){var e=u(),t=e.request,r=e.clearError,c=e.process,s=e.setProcess,i="https://gateway.marvel.com:443/v1/public/characters",o="apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5",l=function(){var e=(0,n.Z)(a().mark((function e(){var r,n,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:500,e.next=3,t("".concat(i,"?limit=9&offset=").concat(r,"&").concat(o));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("".concat(i,"/").concat(r,"?limit=9&offset=500&").concat(o));case 2:return n=e.sent,e.abrupt("return",h(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(a().mark((function e(){var r,n,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:1e4,e.next=3,t("https://gateway.marvel.com:443/v1/public/comics?orderBy=-issueNumber&limit=8&offset=".concat(r,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("https://gateway.marvel.com:443/v1/public/comics/".concat(r,"?apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return n=e.sent,e.abrupt("return",v(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("https://gateway.marvel.com:443/v1/public/characters?name=".concat(r,"&apikey=34f1a3219ea2ae0e4d07e8edc8e23bf5"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return{id:e.data.results[0].id,name:e.data.results[0].name,description:e.data.results[0].description,modified:e.data.results[0].modified,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,wiki:e.data.results[0].urls[1].url,comics:e.data.results[0].comics}},v=function(e){return{id:e.data.results[0].id,title:e.data.results[0].title,description:e.data.results[0].description,price:e.data.results[0].prices[0].price,pageCount:e.data.results[0].pageCount,thumbnail:e.data.results[0].thumbnail.path+"."+e.data.results[0].thumbnail.extension,language:e.data.results[0].textObjects[0].language}};return{getAllCharcters:l,getCharacter:d,getAllComics:m,getComicsItem:f,getCharacterByName:p,clearError:r,process:c,setProcess:s}}},9698:function(e,t,r){r.r(t),r.d(t,{ComicsHeader:function(){return p},default:function(){return h}});var n=r(2982),c=r(885),a=r.p+"static/media/avengers_logo.9b944f717f2c146c4762.png",s=r.p+"static/media/avengers.c29e0ef078dddc7551e8.png",i=r(2791),u=r(7636),o=r(7577),l=(r(5467),r(3237),r(3504)),d=r(8901),m=r(184),f=function(e){var t=e.comicsList;return(0,m.jsx)("div",{className:"comics__items",children:t})},p=function(){return(0,m.jsxs)("div",{className:"comics__header",children:[(0,m.jsx)("img",{className:"comics__header_avengers",src:s,alt:"avengers"}),(0,m.jsxs)("div",{className:"comics__header_title",children:["New comics every week!",(0,m.jsx)("br",{}),"Stay tuned!"]}),(0,m.jsx)("img",{className:"comics__header_avengers-logo",src:a,alt:"avengers logo"})]})},h=function(){var e=(0,i.useState)([]),t=(0,c.Z)(e,2),r=t[0],a=t[1],s=(0,i.useState)(10008),h=(0,c.Z)(s,2),v=h[0],_=h[1],g=(0,i.useState)(!1),x=(0,c.Z)(g,2),b=x[0],j=x[1],w=(0,u.Z)(),y=w.getAllComics,k=w.process,Z=w.setProcess,C=(0,i.useRef)([]);(0,i.useEffect)((function(){Z("waiting"),y().then((function(e){a((function(t){return[].concat((0,n.Z)(t),(0,n.Z)(e.data.results))}))})).then((function(){return Z("loaded")}))}),[]);var N=r.map((function(e,t){var r="/comics/".concat(e.id);return(0,m.jsxs)(l.OL,{to:r,ref:function(e){return C.current.push(e)},onMouseEnter:function(){return function(e){C.current.forEach((function(e){return e.classList.remove("comics__item__active")})),C.current[e].classList.add("comics__item__active"),C.current[e].focus()}(t)},onMouseLeave:function(){return function(e){C.current.forEach((function(e){return e.classList.remove("comics__item__active")})),C.current[e].classList.add("comics__item__active"),C.current[e].blur()}(t)},className:"comics__item",children:[(0,m.jsx)("img",{className:"comics__item_img",src:e.thumbnail.path+"."+e.thumbnail.extension,alt:e.title}),(0,m.jsx)("div",{className:"comics__item_title",children:e.title}),(0,m.jsxs)("div",{className:"comics__item_price",children:[e.prices[0].price,"$"]})]},t)}));return(0,m.jsx)(d.Z,{children:(0,m.jsx)("div",{className:"comics",children:(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)(p,{}),(0,o.Z)(k,(0,m.jsx)(f,{comicsList:N})),(0,m.jsx)("button",{style:{display:"".concat(r.length<8?"none":"block")},disabled:b,onClick:function(){j(!0),_(v+8),y(v).then((function(e){a((function(t){return[].concat((0,n.Z)(t),(0,n.Z)(e.data.results))})),j(!1)}))},children:"LOAD MORE"})]})})})}},3237:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r.p+"static/media/error.42292aa12b6bc303ce99.gif",c=r(184),a=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("img",{className:"error__img",src:n,alt:"error"})})}},7722:function(e,t,r){r.r(t),r.d(t,{default:function(){return s}});var n=r(9698),c=r(6871),a=(r(3540),r(184)),s=function(){var e=(0,c.TH)().state.charInfo;return console.log(e),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(n.ComicsHeader,{}),(0,a.jsxs)("div",{className:"formCharacter",children:[(0,a.jsx)("img",{src:e[0].thumbnail.path+"."+e[0].thumbnail.extension}),(0,a.jsxs)("div",{className:"formCharacter__content",children:[(0,a.jsx)("h2",{children:e[0].name}),e[0].description&&""!=e[0].description&&" "!=e[0].description?(0,a.jsx)("div",{className:"formCharacter__descr",children:e[0].description}):(0,a.jsx)("div",{className:"formCharacter__descr",children:"No description for this character"})]})]})]})}},7577:function(e,t,r){var n=r(5467),c=r(3237),a=r(184);t.Z=function(e,t){switch(e){case"waiting":return(0,a.jsx)(n.Z,{});case"loaded":return t;default:return(0,a.jsx)(c.Z,{})}}}}]);
//# sourceMappingURL=820.17a4a7ec.chunk.js.map